version: "2.0"
mode: "workflow_graph"
metadata:
  name: "Scenario 26: Macro Expansion"
macros:
  - name: "noop_with_id"
    tasks:
      - id: "{{ id }}"
        operator: "NoOpOperator"
        transitions:
          - to: "{{ next }}"
workflow:
  settings:
    entry_task: "start"
  tasks:
    - id: "start"
      operator: "NoOpOperator"
      transitions:
        - to: "step_one"
    - macro: "noop_with_id"
      with:
        id: "step_one"
        next: "step_two"
    - macro: "noop_with_id"
      with:
        id: "step_two"
        next: "done"
    - id: "done"
      operator: "NoOpOperator"
      terminal: success
