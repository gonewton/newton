version: "2.0"
mode: "workflow_graph"
metadata:
  name: "Scenario 07: SetContext Deep Merge"
workflow:
  context:
    user:
      name: "alice"
      roles: ["admin"]
  settings:
    entry_task: "update_roles"
    max_time_seconds: 60
    parallel_limit: 1
    continue_on_error: false
    max_task_iterations: 10
    max_workflow_iterations: 100
  tasks:
    - id: "update_roles"
      operator: "SetContextOperator"
      params:
        patch:
          user:
            roles: ["editor"]
            id: 1
      terminal: success
