version: "2.0"
mode: "workflow_graph"
metadata:
  name: "Scenario 20: Parallel Consistency"
workflow:
  settings:
    entry_task: "start"
    max_time_seconds: 60
    parallel_limit: 3
    continue_on_error: false
    max_task_iterations: 10
    max_workflow_iterations: 100
  tasks:
    - id: "start"
      operator: "NoOpOperator"
      transitions:
        - to: "p1"
        - to: "p2"
        - to: "p3"
    - id: "p1"
      operator: "SetContextOperator"
      params:
        patch: { v1: 1 }
      transitions:
        - to: "join"
    - id: "p2"
      operator: "SetContextOperator"
      params:
        patch: { v2: 2 }
      transitions:
        - to: "join"
    - id: "p3"
      operator: "SetContextOperator"
      params:
        patch: { v3: 3 }
      transitions:
        - to: "join"
    - id: "join"
      operator: "NoOpOperator"
      terminal: success
