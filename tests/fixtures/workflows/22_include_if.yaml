version: "2.0"
mode: "workflow_graph"
metadata:
  name: "Scenario 22: IncludeIf Guard"
workflow:
  settings:
    entry_task: "start"
  tasks:
    - id: "start"
      operator: "NoOpOperator"
      transitions:
        - to: "included_task"
        - to: "excluded_task"
    - id: "included_task"
      operator: "NoOpOperator"
      include_if: { $expr: "triggers.mode == \"test\"" }
      terminal: success
    - id: "excluded_task"
      operator: "NoOpOperator"
      include_if: { $expr: "triggers.mode == \"prod\"" }
      terminal: failure
